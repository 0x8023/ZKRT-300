C51 COMPILER V9.54   PERFECT                                                               10/09/2015 14:14:20 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE PERFECT
OBJECT MODULE PLACED IN perfect.OBJ
COMPILER INVOKED BY: D:\MyProgram\keil\C51\BIN\C51.EXE perfect.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include "../8023.h"
   2          void main(){
   3   1          fun_start(//在此输入小车目前的状态
   4   1              0,//X坐标
   5   1              0,//Y坐标
   6   1              dir_up,//车头方向
   7   1              han_s,//手抓状态
   8   1              sjp_3,//升降位置
   9   1              tra_h,//平移位置
  10   1              dir_left);//回转方向
  11   1          /*请从下一行开始写你的程序*/
  12   1              //fun_test();
  13   1          //fun_pyhz2(tra_h,dir_left);
  14   1      
  15   1              //fun_zdzj(12345678,87654321);
  16   1      //      fun_sjhz(sjp_1,dir_right);
  17   1      //      D(5000)
  18   1      //      fun_sjhz(sjp_2,dir_left);
  19   1      
  20   1              
  21   1      //      str_tfl.step[0]=tfl_start;
  22   1      //      str_tfl.step[1]=40;
  23   1      //      str_tfl.step[2]=tfl_line;
  24   1      //      str_tfl.step[3]=1;
  25   1      //      str_tfl.step[4]=def_end;
  26   1      
  27   1              fun_flsetting(65,40,40,
  28   1              tfl_line,3,
  29   1          tfl_cache,44,
  30   1              tfl_turn,tur_l90,
  31   1              tfl_line,2,
  32   1          tfl_cache,44,
  33   1              tfl_turn,tur_r90,
  34   1              tfl_line,3,
  35   1          tfl_cache,44,
  36   1              def_end);
  37   1      
  38   1          // str_tfl.step[0]=tfl_line;
  39   1          // str_tfl.step[1]=3;
  40   1      
  41   1          // str_tfl.step[2]=tfl_cache;
  42   1          // str_tfl.step[3]=44;
  43   1      
  44   1          // str_tfl.step[4]=tfl_turn;
  45   1          // str_tfl.step[5]=tur_l90;
  46   1      
  47   1          // str_tfl.step[6]=tfl_line;
  48   1          // str_tfl.step[7]=2;
  49   1      
  50   1          // str_tfl.step[8]=tfl_cache;
  51   1          // str_tfl.step[9]=44;
  52   1      
  53   1          // str_tfl.step[10]=tfl_turn;
  54   1          // str_tfl.step[11]=tur_r90;
  55   1      
C51 COMPILER V9.54   PERFECT                                                               10/09/2015 14:14:20 PAGE 2   

  56   1          // str_tfl.step[12]=tfl_line;
  57   1          // str_tfl.step[13]=2;
  58   1      
  59   1          // str_tfl.step[14]=tfl_cache;
  60   1          // str_tfl.step[15]=44;
  61   1      
  62   1          // str_tfl.step[16]=def_end;
  63   1      
  64   1          // str_tfl.online=tf_false;//不在线
  65   1          // str_tfl.run=str_tfl.step;//指针指向第一个数组
  66   1          // str_tfl.gospeed=65;//默认速度
  67   1          // str_tfl.turnspeed=40;//拐弯速度
  68   1          // str_tfl.cachespeed=40;//前冲速度
  69   1          // str_tfl.doing=tf_ture;//开始做
  70   1      
  71   1          fun_py(tra_q);
  72   1          fun_py(tra_h);
  73   1          fun_py(tra_q);
  74   1          fun_py(tra_h);
  75   1          fun_py(tra_q);
  76   1          fun_py(tra_h);
  77   1              
  78   1              while(str_tfl.doing==tf_ture);
  79   1              J S
  80   1              /*
  81   1              for(a=0;a++<100;){
  82   1                  H
  83   1                      KH
  84   1                      D5
  85   1                      H
  86   1                      
  87   1                      Z
  88   1                      D5
  89   1                      H
  90   1                      
  91   1                      KQ
  92   1                      D5
  93   1                      KH
  94   1                      D5
  95   1                      Z
  96   1                      D5
  97   1                      Q
  98   1                      KQ
  99   1                      D5
 100   1                      Q
 101   1                      
 102   1                      Z
 103   1                      D5
 104   1                      Q
 105   1                      
 106   1                      KH
 107   1                      D5
 108   1                      KQ
 109   1                      Z
 110   1      
 111   1              }
 112   1      
 113   1        
 114   1              */
 115   1      
 116   1      /*
 117   1              
C51 COMPILER V9.54   PERFECT                                                               10/09/2015 14:14:20 PAGE 3   

 118   1                str_tfl.step[0]=tfl_line;
 119   1                str_tfl.step[1]=2;
 120   1                str_tfl.step[2]=tfl_cache;
 121   1            str_tfl.step[3]=75;
 122   1      
 123   1                str_tfl.step[4]=tfl_turn;
 124   1                str_tfl.step[5]=tur_l90;
 125   1      
 126   1      
 127   1                str_tfl.step[6]=tfl_line;
 128   1                str_tfl.step[7]=3;
 129   1            str_tfl.step[8]=tfl_cache;
 130   1            str_tfl.step[9]=75;
 131   1                str_tfl.step[10]=tfl_turn;
 132   1                str_tfl.step[11]=tur_l90;
 133   1      
 134   1                str_tfl.step[12]=tfl_line;
 135   1                str_tfl.step[13]=2;
 136   1            str_tfl.step[14]=tfl_cache;
 137   1            str_tfl.step[15]=75;
 138   1      
 139   1                str_tfl.step[16]=tfl_turn;
 140   1                str_tfl.step[17]=tur_r90;
 141   1      
 142   1                str_tfl.step[18]=tfl_line;
 143   1                str_tfl.step[19]=3;
 144   1            str_tfl.step[20]=tfl_cache;
 145   1            str_tfl.step[21]=75;
 146   1      
 147   1                str_tfl.step[22]=tfl_turn;
 148   1                str_tfl.step[23]=tur_r90;
 149   1      
 150   1                str_tfl.step[24]=tfl_line;
 151   1                str_tfl.step[25]=2;
 152   1            str_tfl.step[26]=tfl_cache;
 153   1            str_tfl.step[27]=75;
 154   1      
 155   1                str_tfl.step[28]=tfl_turn;
 156   1                str_tfl.step[29]=tur_r90;
 157   1      
 158   1                str_tfl.step[30]=tfl_line;
 159   1                str_tfl.step[31]=3;
 160   1            str_tfl.step[32]=tfl_cache;
 161   1            str_tfl.step[33]=75;
 162   1      
 163   1                str_tfl.step[34]=tfl_turn;
 164   1                str_tfl.step[35]=tur_r90;
 165   1      
 166   1                str_tfl.step[36]=tfl_line;
 167   1                str_tfl.step[37]=2;
 168   1            str_tfl.step[38]=tfl_cache;
 169   1            str_tfl.step[39]=75;
 170   1      
 171   1                str_tfl.step[40]=tfl_turn;
 172   1                str_tfl.step[41]=tur_l90;
 173   1      
 174   1                str_tfl.step[42]=tfl_line;
 175   1                str_tfl.step[43]=3;
 176   1            str_tfl.step[44]=tfl_cache;
 177   1            str_tfl.step[45]=75;
 178   1      
 179   1                str_tfl.step[46]=tfl_turn;
C51 COMPILER V9.54   PERFECT                                                               10/09/2015 14:14:20 PAGE 4   

 180   1                str_tfl.step[47]=tur_l90;
 181   1                
 182   1                str_tfl.step[48]=def_end;
 183   1               
 184   1                str_tfl.online=tf_false;
 185   1            str_tfl.run=str_tfl.step;
 186   1                str_tfl.gospeed=40;
 187   1                str_tfl.turnspeed=40;
 188   1            str_tfl.cachespeed=40;
 189   1                str_tfl.doing=tf_ture;
 190   1      
 191   1      
 192   1                
 193   1                fun_hz1(dir_up);
 194   1                fun_motors(mot_r,60);
 195   1              
 196   1      
 197   1                fun_hz1(dir_up);
 198   1                fun_sj1(sjp_3);
 199   1            fun_hz1(dir_right);  //回转180
 200   1      
 201   1            fun_hz1(dir_left);   //回转180
 202   1      
 203   1            fun_py1(tra_q);  //前移
 204   1      
 205   1            fun_py1(tra_h);  //后移
 206   1      
 207   1            fun_sz1(han_j);  //手抓紧
 208   1      
 209   1            fun_sz1(han_s);   //手抓松
 210   1      
 211   1            fun_sj1(sjp_5);  //下降5
 212   1            fun_sj1(sjp_2);  //上升2
 213   1      
 214   1            fun_sj1(sjp_1);  //上升1
 215   1      
 216   1            fun_sj1(sjp_2);//下降2
 217   1      
 218   1            fun_sj1(sjp_5);//下降5
 219   1      
 220   1      
 221   1      
 222   1            
 223   1                fun_motors(mot_rl,-58);//后退5秒
 224   1      
 225   1            
 226   1                fun_motors(mot_rl,45);//前进4秒
 227   1      
 228   1                
 229   1                
 230   1            fun_motors(mot_l,-15);  //左转90
 231   1                
 232   1                fun_motors(mot_r,18);
 233   1      
 234   1      
 235   1              def_timer0start
 236   1              def_timer1start
 237   1      
 238   1              str_tfl.step[0]=tfl_line;
 239   1              str_tfl.step[1]=5;
 240   1              str_tfl.step[2]=def_end;
 241   1              
C51 COMPILER V9.54   PERFECT                                                               10/09/2015 14:14:20 PAGE 5   

 242   1              str_tfl.run=&str_tfl.step[0];
 243   1              str_tfl.gospeed=50;
 244   1              str_tfl.online=tf_false;
 245   1              str_tfl.doing=tf_ture;
 246   1              
 247   1      
 248   1      
 249   1          fun_sj1(sjp_3);
 250   1              fun_sj1(sjp_5);
 251   1              //D(2000);
 252   1              fun_py1(tra_q);
 253   1              //D(2000);
 254   1              fun_py1(tra_h);
 255   1              //D(2000);
 256   1              
 257   1              fun_py1(tra_kh);
 258   1              //D(2000);
 259   1              fun_sj1(sjp_5);
 260   1              fun_sz1(han_j);
 261   1              //D(2000);
 262   1              fun_sj1(sjp_3);
 263   1              //D(2000);
 264   1              fun_py1(tra_q);
 265   1              //D(2000);
 266   1              fun_sj1(sjp_5);
 267   1              //D(2000);
 268   1              fun_sz1(han_s);
 269   1              //D(2000);
 270   1              
 271   1          fun_sj1(sjp_3);
 272   1              //D(2000);
 273   1              fun_py1(tra_kq);
 274   1              //D(2000);
 275   1              fun_sj1(sjp_5);
 276   1              //D(2000);
 277   1              fun_sz1(han_j);
 278   1              //D(2000);
 279   1              fun_sj1(sjp_3);
 280   1              //D(2000);
 281   1              fun_py1(tra_h);
 282   1              //D(2000);
 283   1              fun_sj1(sjp_5);
 284   1              //D(2000);
 285   1              fun_sz1(han_s);
 286   1              //D(2000);
 287   1              
 288   1      
 289   1              fun_py1(tra_h);
 290   1      
 291   1      
 292   1              fun_sj1(sjp_1);
 293   1              fun_calibration();
 294   1              fun_sj1(sjp_4);
 295   1              
 296   1              fun_py1(tra_q);
 297   1              fun_sj1(sjp_5);
 298   1              
 299   1              fun_py1(tra_q);
 300   1              
 301   1              fun_py1(tra_h);
 302   1              D(2000)
 303   1              fun_py1(tra_kh);
C51 COMPILER V9.54   PERFECT                                                               10/09/2015 14:14:20 PAGE 6   

 304   1              D(2000)
 305   1              fun_py1(tra_z);
 306   1              D(2000)
 307   1              fun_py1(tra_kq);
 308   1              D(2000)
 309   1              fun_py1(tra_q);
 310   1      
 311   1              D(2000)
 312   1              fun_py1(tra_q);
 313   1              D(2000)
 314   1              fun_py1(tra_kq);
 315   1              D(2000)
 316   1              fun_py1(tra_z);
 317   1              D(2000)
 318   1              fun_py1(tra_kh);
 319   1              D(2000)
 320   1              fun_py1(tra_h);
 321   1      */
 322   1          /*你的程序到此为止,请不要再继续改动*/
 323   1          fun_stop();
 324   1      }
 325          void Int0Interrupt() interrupt 0{
 326   1          ;
 327   1      }
 328          void Timer0Interrupt() interrupt 1 using 1{
 329   1          fun_timer0();
 330   1      }
 331          void Timer1Interrupt() interrupt 3 using 1{
 332   1          fun_timer1();
 333   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    211    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
